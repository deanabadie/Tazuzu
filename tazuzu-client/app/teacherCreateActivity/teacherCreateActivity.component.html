<div class="col-md-6 col-md-offset-3">
    <h3>Create New Activity - Teacher</h3>
    <form name="form" (ngSubmit)="f.form.valid && createActivity()" #f="ngForm" novalidate>
        <div class="form-group">
            <label for="type">Activity type</label>
            <select class="form-control" id="type" name="type" [(ngModel)]="activity.type" #activityType="ngModel" required>
                <option value="" disabled>Select</option>
            <option *ngFor="let at of this.payload.activityTypes" [ngValue]="at">{{at.activityName}}</option>
            </select>
        </div>
        <div *ngIf="activity.type">Measurements type: {{activity.type.measurementTypeId.charAt(0).toUpperCase().concat(activity.type.measurementTypeId.substr(1).toLowerCase())}}</div>
        <div *ngIf="activity.type">Num measurements: {{activity.type.numOfMeasurements}}</div>
        <br />
        <div class="form-group" [ngClass]="{ 'has-error': f.submitted && !activityDate.valid }">
            <label for="activityDate">Date and Time for Activity</label>
            <input type="datetime-local" class="form-control" name="activityDate" [(ngModel)]="activity.activityDate" #activityDate="ngModel"
                required />
            <div *ngIf="f.submitted && !activityDate.valid" class="help-block">Date and Time are required</div>
        </div>
        <div class="form-group">
            <label for="isMandatory">is Mandatory</label>
            <input type="radio" name="isMandatory" id="isMandatory" [(ngModel)]="activity.isMandatory" value="true" />&nbsp;True
            <input type="radio" name="isMandatory" id="isMandatory" [(ngModel)]="activity.isMandatory" value="false" />&nbsp;False
        </div>

        <div class="form-group">
            <label for="target">Target</label>
            <input type="radio" name="target" id="target" [(ngModel)]="activity.target" value="0" />&nbsp;Class
            <input type="radio" name="target" id="target" [(ngModel)]="activity.target" value="1" />&nbsp;Individuals
        </div>

        <div *ngIf="activity.target==0" class="form-group">
            <label for="class">Choose class</label>
            <select class="form-control" id="class" name="class" [(ngModel)]="activity.class" #class="ngModel">
                <option disabled value="">Select</option>
                <option *ngFor="let c of payload.classes" [value]="c">{{c.name}}</option>
            </select>
        </div>
        <div *ngIf="activity.target==1" class="form-group">
            <label for="studentIdList">Choose individual students</label>
            <br />
            <md-input-container>
                <input mdInput placeholder="Enter name" [mdAutocomplete]="auto" [formControl]="stateCtrl">
            </md-input-container>

            <md-autocomplete #auto="mdAutocomplete">
                <md-option *ngFor="let state of filteredStates | async" [value]="state">
                    {{ state }}
                </md-option>
            </md-autocomplete>
        </div>
        <div class="form-group">
            <button [disabled]="loading" class="btn btn-primary">Create</button>
            <a [routerLink]="['/teachers/current']" class="btn btn-link">Cancel</a>
        </div>
    </form>
</div>